{"ast":null,"code":"import _slicedToArray from\"C:/Users/Kanishkan Kumanan/Desktop/amazonaa/frontend-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"C:/Users/Kanishkan Kumanan/Desktop/amazonaa/frontend-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/Kanishkan Kumanan/Desktop/amazonaa/frontend-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{createContext,useReducer}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export var Store=/*#__PURE__*/createContext();var initialState={userInfo:localStorage.getItem('userInfo')?JSON.parse(localStorage.getItem(\"userInfo\")):null,cart:{shippingAddress:localStorage.getItem('shippingAddress')?JSON.parse(localStorage.getItem('shippingAddress')):{},cartItems:localStorage.getItem('cartitems')?JSON.parse(localStorage.getItem('cartitems')):[],paymentMethod:localStorage.getItem('paymentMethod')?localStorage.getItem('paymentMethod'):''}};function reducer(state,action){switch(action.type){case\"CART_ADD_ITEM\":{var newItem=action.payload;var existItem=state.cart.cartItems.find(function(item){return item._id===newItem._id;});var cartItems=existItem?state.cart.cartItems.map(function(item){return item._id===existItem._id?newItem:item;}):[].concat(_toConsumableArray(state.cart.cartItems),[newItem]);localStorage.setItem(\"cartitems\",JSON.stringify(cartItems));return _objectSpread(_objectSpread({},state),{},{cart:_objectSpread(_objectSpread({},state.cart),{},{cartItems:cartItems})});}case\"CART_REMOVE_ITEM\":{var _cartItems=state.cart.cartItems.filter(function(item){return item._id!==action.payload._id;});return _objectSpread(_objectSpread({},state),{},{cart:_objectSpread(_objectSpread({},state.cart),{},{cartItems:_cartItems})});}case\"CART_CLEAR\":{return _objectSpread(_objectSpread({},state),{},{cart:_objectSpread(_objectSpread({},state.cart),{},{cartItems:[]})});}case\"USER_SIGNIN\":{return _objectSpread(_objectSpread({},state),{},{userInfo:action.payload});}case\"USER_SIGNOUT\":{return _objectSpread(_objectSpread({},state),{},{userInfo:null,cart:{cartItems:[],shippingAddress:{},paymentMethod:''}});}case\"SAVE_SHIPPING_ADDRESS\":{return _objectSpread(_objectSpread({},state),{},{cart:_objectSpread(_objectSpread({},state.cart),{},{shippingAddress:action.payload})});}case\"SAVE_PAYMENT_METHOD\":{return _objectSpread(_objectSpread({},state),{},{cart:_objectSpread(_objectSpread({},state.cart),{},{paymentMethod:action.payload})});}default:return state;}}export function StoreProvider(props){var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var value={state:state,dispatch:dispatch};return/*#__PURE__*/_jsx(Store.Provider,{value:value,children:props.children});}","map":{"version":3,"names":["createContext","useReducer","jsx","_jsx","Store","initialState","userInfo","localStorage","getItem","JSON","parse","cart","shippingAddress","cartItems","paymentMethod","reducer","state","action","type","newItem","payload","existItem","find","item","_id","map","concat","_toConsumableArray","setItem","stringify","_objectSpread","filter","StoreProvider","props","_useReducer","_useReducer2","_slicedToArray","dispatch","value","Provider","children"],"sources":["C:/Users/Kanishkan Kumanan/Desktop/amazonaa/frontend-app/src/Store.js"],"sourcesContent":["import { createContext, useReducer } from \"react\";\r\n\r\n\r\nexport const Store = createContext();\r\n\r\nconst initialState = {\r\n    userInfo: localStorage.getItem('userInfo') ?\r\n    JSON.parse(localStorage.getItem(\"userInfo\"))\r\n    : null,\r\n\r\n    cart: {\r\n        shippingAddress: localStorage.getItem('shippingAddress') ? JSON.parse(localStorage.getItem('shippingAddress'))\r\n        : {},\r\n        cartItems : localStorage.getItem('cartitems') ? JSON.parse(localStorage.getItem('cartitems'))\r\n        : [],\r\n        paymentMethod:localStorage.getItem('paymentMethod') ? (localStorage.getItem('paymentMethod')) : '',\r\n    },\r\n}\r\n\r\nfunction reducer(state,action){\r\n  switch(action.type){\r\n    case \"CART_ADD_ITEM\":{\r\n        const newItem = action.payload;\r\n        const existItem = state.cart.cartItems.find((item)=>item._id === newItem._id);\r\n        const cartItems = existItem ? state.cart.cartItems.map((item)=>\r\n          item._id === existItem._id ? newItem : item\r\n        ) : [...state.cart.cartItems,newItem];\r\n        localStorage.setItem(\"cartitems\",JSON.stringify(cartItems));\r\n        return {...state,cart:{...state.cart,cartItems}};\r\n    }    \r\n\r\n    case \"CART_REMOVE_ITEM\":{\r\n      const cartItems = state.cart.cartItems.filter((item)=>\r\n        item._id !== action.payload._id\r\n      );\r\n      return {...state,cart:{...state.cart,cartItems}}    \r\n    }  \r\n    \r\n    case \"CART_CLEAR\":{\r\n      return{...state, cart:{...state.cart, cartItems: []}}\r\n    }\r\n\r\n    case \"USER_SIGNIN\":{\r\n      return {...state,userInfo: action.payload}\r\n    }\r\n\r\n    case \"USER_SIGNOUT\":{\r\n      return {...state,userInfo: null,\r\n        cart: {\r\n                cartItems : [], shippingAddress : {}, paymentMethod : ''\r\n      }}\r\n    }\r\n\r\n    case \"SAVE_SHIPPING_ADDRESS\":{\r\n      return {...state,cart: {...state.cart,shippingAddress: action.payload,}}\r\n    }\r\n\r\n    case \"SAVE_PAYMENT_METHOD\":{\r\n      return {...state,cart: {...state.cart, paymentMethod: action.payload}}\r\n    }\r\n\r\n    default:\r\n        return state;    \r\n  }\r\n}\r\n\r\nexport function StoreProvider(props){\r\n const[state,dispatch] = useReducer(reducer,initialState);\r\n const value = {state,dispatch};\r\n return <Store.Provider value={value}>{props.children}</Store.Provider>;\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}